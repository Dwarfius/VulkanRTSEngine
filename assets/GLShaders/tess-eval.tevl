#version 420

layout(quads, fractional_even_spacing, cw) in;

layout (std140, binding = 0) uniform UniformAdapter // TODO: give it a proper name!
{
	mat4 Model;
	mat4 mvp;
};

layout (std140, binding = 1) uniform TerrainAdapter
{
	vec3 GridOrigin;
	int TileSize;
	int GridWidth;
	int GridHeight;
};

void main()
{
	vec3 pos = gl_in[0].gl_Position.xyz;
    pos.xz += (gl_TessCoord.xy - 0.5f) * TileSize;
	gl_Position = mvp * vec4(pos, 1);
}